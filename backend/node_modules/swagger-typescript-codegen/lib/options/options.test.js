"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const options_1 = require("./options");
const Mustache = require("mustache");
const defaultOptions = {
    isES6: false,
    moduleName: "",
    includeDeprecated: false,
    imports: [],
    className: "",
    template: {},
    mustache: Mustache,
    beautify: true,
    beautifyOptions: {}
};
describe("makeOptions", () => {
    it("returns the default options when no options are passed", () => {
        const partialOptions = {
            swagger: {}
        };
        expect(options_1.makeOptions(partialOptions)).toEqual(Object.assign({}, defaultOptions, { swagger: {} }));
    });
    it("merges in the options that are passed with higher priority", () => {
        const partialOptions = {
            swagger: {},
            className: "GeneratedDataLayer"
        };
        const options = options_1.makeOptions(partialOptions);
        expect(options.className).toBe("GeneratedDataLayer");
    });
});
describe("validateOptions", () => {
    it("with valid options", () => {
        const partialOptions = {
            swagger: {},
            template: {
                class: "class-template",
                method: "method-template"
            }
        };
        const options = options_1.makeOptions(partialOptions);
        expect(() => options_1.validateOptions(options));
    });
    it("throws when class template is not provided", () => {
        const partialOptions = {
            swagger: {},
            template: {
                class: "class-template",
                method: undefined
            }
        };
        const options = options_1.makeOptions(partialOptions);
        expect(() => options_1.validateOptions(options)).toThrow('Unprovided custom template. Please use the following template: template: { class: "...", method: "...", request: "..." }');
    });
    it("throws when method template is not provided", () => {
        const partialOptions = {
            swagger: {},
            template: {
                class: undefined,
                method: "method-template"
            }
        };
        const options = options_1.makeOptions(partialOptions);
        expect(() => options_1.validateOptions(options)).toThrow('Unprovided custom template. Please use the following template: template: { class: "...", method: "...", request: "..." }');
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9ucy50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL29wdGlvbnMvb3B0aW9ucy50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUNBQXlEO0FBQ3pELHFDQUFxQztBQUdyQyxNQUFNLGNBQWMsR0FBRztJQUNyQixLQUFLLEVBQUUsS0FBSztJQUNaLFVBQVUsRUFBRSxFQUFFO0lBQ2QsaUJBQWlCLEVBQUUsS0FBSztJQUN4QixPQUFPLEVBQUUsRUFBRTtJQUNYLFNBQVMsRUFBRSxFQUFFO0lBQ2IsUUFBUSxFQUFFLEVBQUU7SUFDWixRQUFRLEVBQUUsUUFBUTtJQUNsQixRQUFRLEVBQUUsSUFBSTtJQUNkLGVBQWUsRUFBRSxFQUFFO0NBQ3BCLENBQUM7QUFFRixRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtJQUMzQixFQUFFLENBQUMsd0RBQXdELEVBQUUsR0FBRyxFQUFFO1FBQ2hFLE1BQU0sY0FBYyxHQUFHO1lBQ3JCLE9BQU8sRUFBRSxFQUFhO1NBQ3ZCLENBQUM7UUFFRixNQUFNLENBQUMscUJBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLE9BQU8sbUJBQ3RDLGNBQWMsSUFDakIsT0FBTyxFQUFFLEVBQUUsSUFDWCxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsNERBQTRELEVBQUUsR0FBRyxFQUFFO1FBQ3BFLE1BQU0sY0FBYyxHQUFHO1lBQ3JCLE9BQU8sRUFBRSxFQUFhO1lBQ3RCLFNBQVMsRUFBRSxvQkFBb0I7U0FDaEMsQ0FBQztRQUVGLE1BQU0sT0FBTyxHQUFHLHFCQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFNUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRTtJQUMvQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQzVCLE1BQU0sY0FBYyxHQUFHO1lBQ3JCLE9BQU8sRUFBRSxFQUFhO1lBQ3RCLFFBQVEsRUFBRTtnQkFDUixLQUFLLEVBQUUsZ0JBQWdCO2dCQUN2QixNQUFNLEVBQUUsaUJBQWlCO2FBQzFCO1NBQ0YsQ0FBQztRQUVGLE1BQU0sT0FBTyxHQUFHLHFCQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFNUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLHlCQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUN6QyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLEVBQUU7UUFDcEQsTUFBTSxjQUFjLEdBQUc7WUFDckIsT0FBTyxFQUFFLEVBQWE7WUFDdEIsUUFBUSxFQUFFO2dCQUNSLEtBQUssRUFBRSxnQkFBZ0I7Z0JBQ3ZCLE1BQU0sRUFBRSxTQUFTO2FBQ2xCO1NBQ0YsQ0FBQztRQUVGLE1BQU0sT0FBTyxHQUFHLHFCQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFNUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLHlCQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQzVDLDBIQUEwSCxDQUMzSCxDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsNkNBQTZDLEVBQUUsR0FBRyxFQUFFO1FBQ3JELE1BQU0sY0FBYyxHQUFHO1lBQ3JCLE9BQU8sRUFBRSxFQUFhO1lBQ3RCLFFBQVEsRUFBRTtnQkFDUixLQUFLLEVBQUUsU0FBUztnQkFDaEIsTUFBTSxFQUFFLGlCQUFpQjthQUMxQjtTQUNGLENBQUM7UUFFRixNQUFNLE9BQU8sR0FBRyxxQkFBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBRTVDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyx5QkFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUM1QywwSEFBMEgsQ0FDM0gsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMifQ==